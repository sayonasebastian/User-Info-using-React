{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Home\\\\Desktop\\\\Sayo\\\\Cloud Computing\\\\User-Info-using-React\\\\src\\\\components\\\\Forms\\\\FormContainer.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport Login from \"./Login\";\nimport RegisterUser from \"./RegisterUser\";\nimport UserInfo from \"./UserInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Form extends React.Component {\n  constructor() {\n    super();\n    this.clearState = () => {\n      this.setState({\n        ...this.initialState\n      });\n    };\n    this.initialState = {\n      username: \"\",\n      password: \"\",\n      fname: \"\",\n      lname: \"\",\n      email: \"\",\n      mode: \"Login\"\n    };\n    this.state = this.initialState;\n    this.createUser = this.createUser.bind(this);\n    this.clearState = this.clearState.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleRegister = this.handleRegister.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleMode = this.handleMode.bind(this);\n    this.readFile = this.readFile.bind(this);\n    this.retriveInfo = this.retriveInfo.bind(this);\n  }\n  handleChange(event) {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = event.target;\n    type === \"checkbox\" ? this.setState({\n      [name]: checked\n    }) : this.setState({\n      [name]: value\n    });\n  }\n  readFile(file) {}\n  handleBack(modeCurrent) {\n    this.clearState();\n    this.handleMode(modeCurrent);\n  }\n  handleMode(modeCurrent) {\n    this.setState({\n      mode: modeCurrent\n    });\n  }\n  createUser() {\n    axios.post('http://localhost:5001/users/create', {\n      username: this.state.username,\n      password: this.state.password,\n      fname: this.state.fname,\n      lname: this.state.lname,\n      email: this.state.email\n    }).then(res => {\n      console.log(res.data);\n    }).catch(error => console.error(`There was an error creating the book: ${error}`));\n  }\n  retriveInfo() {\n    axios.put('http://localhost:5001/users/check', {\n      username: this.state.username,\n      password: this.state.password\n    }).then(response => {\n      if (response.data.length > 0) {\n        let info = response.data[0];\n        if (response.data[0].password === this.state.password) {\n          this.handleMode(\"Info\");\n          this.setState({\n            fname: info.fname,\n            lname: info.lname,\n            email: info.email\n          });\n        } else alert(\"Invalid password\");\n      } else this.handleMode(\"Register\");\n    }).catch(error => console.error(`User list unavialable: ${error}`));\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    this.retriveInfo();\n  }\n  handleRegister(event) {\n    event.preventDefault();\n    this.createUser();\n    this.clearState();\n    this.handleMode(\"Login\");\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: this.state.mode === \"Login\" ? /*#__PURE__*/_jsxDEV(Login, {\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit,\n        state: this.state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 48\n      }, this) : this.state.mode === \"Register\" ? /*#__PURE__*/_jsxDEV(RegisterUser, {\n        handleChange: this.handleChange,\n        handleRegister: this.handleRegister,\n        handleBack: this.handleBack,\n        readFile: this.readFile,\n        state: this.state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 56\n      }, this) : /*#__PURE__*/_jsxDEV(UserInfo, {\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit,\n        handleBack: this.handleBack,\n        state: this.state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Form;","map":{"version":3,"names":["React","axios","Login","RegisterUser","UserInfo","Form","Component","constructor","clearState","setState","initialState","username","password","fname","lname","email","mode","state","createUser","bind","handleBack","handleChange","handleRegister","handleSubmit","handleMode","readFile","retriveInfo","event","name","value","type","checked","target","file","modeCurrent","post","then","res","console","log","data","catch","error","put","response","length","info","alert","preventDefault","render"],"sources":["C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/src/components/Forms/FormContainer.js"],"sourcesContent":["import React from \"react\"\r\nimport axios from 'axios'\r\nimport Login from \"./Login\"\r\nimport RegisterUser from \"./RegisterUser\"\r\nimport UserInfo from \"./UserInfo\"\r\nclass Form extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.initialState = {\r\n            username: \"\",\r\n            password: \"\",\r\n            fname: \"\",\r\n            lname: \"\",\r\n            email: \"\",\r\n            mode: \"Login\"\r\n        }\r\n        this.state = this.initialState;\r\n        this.createUser = this.createUser.bind(this)\r\n        this.clearState = this.clearState.bind(this)\r\n        this.handleBack = this.handleBack.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleRegister = this.handleRegister.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleMode = this.handleMode.bind(this)\r\n        this.readFile = this.readFile.bind(this)\r\n        this.retriveInfo = this.retriveInfo.bind(this)\r\n    }\r\n\r\n    handleChange(event) {\r\n        const { name, value, type, checked } = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    readFile(file){\r\n\r\n\r\n    }\r\n\r\n    clearState = () => {\r\n        this.setState({ ...this.initialState });\r\n    }\r\n\r\n    handleBack(modeCurrent) {\r\n        this.clearState();\r\n        this.handleMode(modeCurrent);\r\n    }\r\n\r\n    handleMode(modeCurrent) {\r\n        this.setState({ mode: modeCurrent });\r\n    }\r\n\r\n    createUser() {\r\n\r\n        axios\r\n            .post('http://localhost:5001/users/create', {\r\n                username: this.state.username,\r\n                password: this.state.password,\r\n                fname: this.state.fname,\r\n                lname: this.state.lname,\r\n                email: this.state.email\r\n            })\r\n            .then(res => {\r\n                console.log(res.data)\r\n            })\r\n            .catch(error => console.error(`There was an error creating the book: ${error}`))\r\n    }\r\n\r\n    retriveInfo() {\r\n        axios\r\n            .put('http://localhost:5001/users/check', {\r\n                username: this.state.username,\r\n                password: this.state.password\r\n            })\r\n            .then(response => {\r\n                if (response.data.length > 0) {\r\n                    let info = response.data[0];\r\n                    if (response.data[0].password === this.state.password) {\r\n                        this.handleMode(\"Info\");\r\n                        this.setState({ fname: info.fname, lname: info.lname, email: info.email });\r\n                    } else alert(\"Invalid password\");\r\n\r\n                } else this.handleMode(\"Register\");\r\n            })\r\n            .catch(error => console.error(`User list unavialable: ${error}`))\r\n\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.retriveInfo();\r\n    }\r\n\r\n    handleRegister(event) {\r\n        event.preventDefault();\r\n        this.createUser();\r\n        this.clearState();\r\n        this.handleMode(\"Login\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                {this.state.mode === \"Login\" ? <Login\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    state={this.state}\r\n                /> : (this.state.mode === \"Register\" ? <RegisterUser\r\n                    handleChange={this.handleChange}\r\n                    handleRegister={this.handleRegister}\r\n                    handleBack={this.handleBack}\r\n                    readFile={this.readFile}\r\n                    state={this.state}\r\n                /> : <UserInfo\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    handleBack={this.handleBack}\r\n                    state={this.state}\r\n                />)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}