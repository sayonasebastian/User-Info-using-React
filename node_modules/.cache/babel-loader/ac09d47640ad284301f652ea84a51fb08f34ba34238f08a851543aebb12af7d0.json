{"ast":null,"code":"import _defineProperty from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import axios from'axios';import Login from\"./Login\";import RegisterUser from\"./RegisterUser\";import UserInfo from\"./UserInfo\";import{jsx as _jsx}from\"react/jsx-runtime\";var Form=/*#__PURE__*/function(_React$Component){_inherits(Form,_React$Component);var _super=_createSuper(Form);function Form(){var _this;_classCallCheck(this,Form);_this=_super.call(this);_this.readFile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var file;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();file=new FileReader();file.onload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var text;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:text=e.target.result.split(new RegExp([\" \",\"\\n\"].join('|'),'g'));_this.setState({count:text.length});case 2:case\"end\":return _context.stop();}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}();file.readAsText(e.target.files[0]);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}();_this.clearState=function(){_this.setState(_objectSpread({},_this.initialState));};_this.initialState={username:\"\",password:\"\",fname:\"\",lname:\"\",email:\"\",mode:\"Login\",count:0};_this.state=_this.initialState;_this.createUser=_this.createUser.bind(_assertThisInitialized(_this));_this.clearState=_this.clearState.bind(_assertThisInitialized(_this));_this.handleBack=_this.handleBack.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleRegister=_this.handleRegister.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleMode=_this.handleMode.bind(_assertThisInitialized(_this));_this.readFile=_this.readFile.bind(_assertThisInitialized(_this));_this.retriveInfo=_this.retriveInfo.bind(_assertThisInitialized(_this));return _this;}_createClass(Form,[{key:\"handleChange\",value:function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value,type=_event$target.type,checked=_event$target.checked;type===\"checkbox\"?this.setState(_defineProperty({},name,checked)):this.setState(_defineProperty({},name,value));}},{key:\"handleBack\",value:function handleBack(modeCurrent){this.clearState();this.handleMode(modeCurrent);}},{key:\"handleMode\",value:function handleMode(modeCurrent){this.setState({mode:modeCurrent});}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();this.retriveInfo();}},{key:\"handleRegister\",value:function handleRegister(event){event.preventDefault();this.createUser();this.clearState();this.handleMode(\"Login\");}},{key:\"createUser\",value:function createUser(){axios.post('http://localhost:5001/users/create',{username:this.state.username,password:this.state.password,fname:this.state.fname,lname:this.state.lname,email:this.state.email,count:this.state.count}).then(function(res){console.log(res.data);}).catch(function(error){return console.error(\"There was an error creating the book: \".concat(error));});}},{key:\"retriveInfo\",value:function retriveInfo(){var _this2=this;axios.put('http://localhost:5001/users/check',{username:this.state.username,password:this.state.password}).then(function(response){if(response.data.length>0){var info=response.data[0];if(response.data[0].password===_this2.state.password){_this2.handleMode(\"Info\");_this2.setState({fname:info.fname,lname:info.lname,email:info.email,count:info.count});}else alert(\"Invalid password\");}else _this2.handleMode(\"Register\");}).catch(function(error){return console.error(\"User list unavialable: \".concat(error));});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:this.state.mode===\"Login\"?/*#__PURE__*/_jsx(Login,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,state:this.state}):this.state.mode===\"Register\"?/*#__PURE__*/_jsx(RegisterUser,{handleChange:this.handleChange,handleRegister:this.handleRegister,handleBack:this.handleBack,readFile:this.readFile,state:this.state}):/*#__PURE__*/_jsx(UserInfo,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleBack:this.handleBack,state:this.state})});}}]);return Form;}(React.Component);export default Form;","map":{"version":3,"names":["React","axios","Login","RegisterUser","UserInfo","Form","readFile","e","preventDefault","file","FileReader","onload","text","target","result","split","RegExp","join","setState","count","length","readAsText","files","clearState","initialState","username","password","fname","lname","email","mode","state","createUser","bind","handleBack","handleChange","handleRegister","handleSubmit","handleMode","retriveInfo","event","name","value","type","checked","modeCurrent","post","then","res","console","log","data","catch","error","put","response","info","alert","Component"],"sources":["C:/Users/Home/Desktop/Sayo/Cloud Computing/User-Info-using-React/src/components/Forms/FormContainer.js"],"sourcesContent":["import React from \"react\"\r\nimport axios from 'axios'\r\nimport Login from \"./Login\"\r\nimport RegisterUser from \"./RegisterUser\"\r\nimport UserInfo from \"./UserInfo\"\r\nclass Form extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.initialState = {\r\n            username: \"\",\r\n            password: \"\",\r\n            fname: \"\",\r\n            lname: \"\",\r\n            email: \"\",\r\n            mode: \"Login\",\r\n            count: 0\r\n        }\r\n        this.state = this.initialState;\r\n        this.createUser = this.createUser.bind(this)\r\n        this.clearState = this.clearState.bind(this)\r\n        this.handleBack = this.handleBack.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleRegister = this.handleRegister.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleMode = this.handleMode.bind(this)\r\n        this.readFile = this.readFile.bind(this)\r\n        this.retriveInfo = this.retriveInfo.bind(this)\r\n    }\r\n\r\n    handleChange(event) {\r\n        const { name, value, type, checked } = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleBack(modeCurrent) {\r\n        this.clearState();\r\n        this.handleMode(modeCurrent);\r\n    }\r\n\r\n    handleMode(modeCurrent) {\r\n        this.setState({ mode: modeCurrent });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.retriveInfo();\r\n    }\r\n\r\n    handleRegister(event) {\r\n        event.preventDefault();\r\n        this.createUser();\r\n        this.clearState();\r\n        this.handleMode(\"Login\");\r\n    }\r\n\r\n    readFile = async (e) => {\r\n        e.preventDefault()\r\n        const file = new FileReader()\r\n        file.onload = async (e) => {\r\n            var text = (e.target.result).split(new RegExp([\" \", \"\\n\"].join('|'), 'g'));\r\n            this.setState({ count: text.length })\r\n        };\r\n        file.readAsText(e.target.files[0])\r\n    }\r\n\r\n\r\n    clearState = () => {\r\n        this.setState({ ...this.initialState });\r\n    }\r\n\r\n    createUser() {\r\n\r\n        axios\r\n            .post('http://localhost:5001/users/create', {\r\n                username: this.state.username,\r\n                password: this.state.password,\r\n                fname: this.state.fname,\r\n                lname: this.state.lname,\r\n                email: this.state.email,\r\n                count: this.state.count\r\n            })\r\n            .then(res => {\r\n                console.log(res.data)\r\n            })\r\n            .catch(error => console.error(`There was an error creating the book: ${error}`))\r\n    }\r\n\r\n    retriveInfo() {\r\n        axios\r\n            .put('http://localhost:5001/users/check', {\r\n                username: this.state.username,\r\n                password: this.state.password\r\n            })\r\n            .then(response => {\r\n                if (response.data.length > 0) {\r\n                    let info = response.data[0];\r\n                    if (response.data[0].password === this.state.password) {\r\n                        this.handleMode(\"Info\");\r\n                        this.setState({ fname: info.fname, lname: info.lname, email: info.email, count: info.count });\r\n                    } else alert(\"Invalid password\");\r\n\r\n                } else this.handleMode(\"Register\");\r\n            })\r\n            .catch(error => console.error(`User list unavialable: ${error}`))\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                {this.state.mode === \"Login\" ? <Login\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    state={this.state}\r\n                /> : (this.state.mode === \"Register\" ? <RegisterUser\r\n                    handleChange={this.handleChange}\r\n                    handleRegister={this.handleRegister}\r\n                    handleBack={this.handleBack}\r\n                    readFile={this.readFile}\r\n                    state={this.state}\r\n                /> : <UserInfo\r\n                    handleChange={this.handleChange}\r\n                    handleSubmit={this.handleSubmit}\r\n                    handleBack={this.handleBack}\r\n                    state={this.state}\r\n                />)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}